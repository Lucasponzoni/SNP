<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Tickets SNP · Novogar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- FAVICON (cambiá la ruta por tu ico real) -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <!-- Bootstrap + Bootstrap Icons -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />

  <!-- Estilos propios -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Splash / bienvenida -->
  <div id="splash" class="splash">
    <div class="splash-inner text-center">
      <img
        src="https://i.postimg.cc/MpgSGZkv/Novogar-N.png"
        alt="Novogar"
        class="splash-logo mb-3"
      />
      <h1 class="splash-title mb-2">Bienvenido a Tickets SNP</h1>
      <p class="splash-subtitle mb-3">Cargando panel de reclamos…</p>
      <div class="splash-spinner"></div>
    </div>
  </div>

  <div class="app-shell" id="app-shell">
    <div class="window mx-auto">
      <header
        class="window-header d-flex align-items-center justify-content-between"
      >
        <div class="window-dots">
          <span class="dot dot-red"></span>
          <span class="dot dot-yellow"></span>
          <span class="dot dot-green"></span>
        </div>
        <div class="window-title">
          <img
            src="https://i.postimg.cc/MpgSGZkv/Novogar-N.png"
            alt="Novogar"
            class="window-logo"
          />
          <div class="window-title-text">
            <h1>
              <i class="bi bi-ticket-detailed me-1"></i>
              SNP. Novogar
            </h1>
            <p>Formulario de tickets de posventa</p>
          </div>
        </div>
      </header>

      <main class="window-body">
        <form id="snp-form" class="form">
          <div class="form-row">
            <label for="sucursal">Sucursal</label>
            <select
              id="sucursal"
              name="sucursal"
              class="form-select"
              required
            >
              <option value="">Seleccioná una sucursal…</option>

              <option
                value="Novogar ROSARIO - ECHESORTU"
                data-gerente-email="leonardo.ferreyra@novogar.com.ar"
                data-gerente-nombre="Leonardo Ferreyra"
              >
                Novogar ROSARIO - ECHESORTU
              </option>

              <option
                value="Novogar ARROYO SECO"
                data-gerente-email="noelia.diluca@novogar.com.ar"
                data-gerente-nombre="Noelia Di Luca"
              >
                Novogar ARROYO SECO
              </option>

              <option
                value="Novogar VILLA GOBERNADOR GALVEZ"
                data-gerente-email="matias.yulita@novogar.com.ar"
                data-gerente-nombre="Matías Yulita"
              >
                Novogar VILLA GOBERNADOR GALVEZ
              </option>

              <option
                value="Novogar ROSARIO - ARIJÓN"
                data-gerente-email="alejandro.asquini@novogar.com.ar"
                data-gerente-nombre="Alejandro Asquini"
              >
                Novogar ROSARIO - ARIJÓN
              </option>

              <option
                value="Novogar ROSARIO - PEATONAL"
                data-gerente-email="diego.pezzillo@novogar.com.ar"
                data-gerente-nombre="Diego Pezzillo"
              >
                Novogar ROSARIO - PEATONAL
              </option>

              <option
                value="Novogar SAN LORENZO"
                data-gerente-email="luciano.acosta@novogar.com.ar"
                data-gerente-nombre="Luciano Acosta"
              >
                Novogar SAN LORENZO
              </option>

              <option
                value="Novogar RAFAELA"
                data-gerente-email="nicolas.mora@novogar.com.ar"
                data-gerente-nombre="Nicolás Mora"
              >
                Novogar RAFAELA
              </option>

              <option
                value="Novogar ALVEAR"
                data-gerente-email="renzo.matteti@novogar.com.ar"
                data-gerente-nombre="Renzo Matteti"
              >
                Novogar ALVEAR
              </option>

              <option
                value="Novogar ROSARIO - SAN MARTIN"
                data-gerente-email="esperanza.toffalo@novogar.com.ar"
                data-gerente-nombre="Esperanza Toffalo"
              >
                Novogar ROSARIO - SAN MARTIN
              </option>

              <option
                value="Novogar GRANADERO BAIGORRIA"
                data-gerente-email="juan.pino@novogar.com.ar"
                data-gerente-nombre="Juan Pino"
              >
                Novogar GRANADERO BAIGORRIA
              </option>

              <option
                value="Novogar CUTRAL CÓ"
                data-gerente-email="gino.diocares@novogar.com.ar"
                data-gerente-nombre="Gino Diocares"
              >
                Novogar CUTRAL CÓ
              </option>

              <option
                value="Novogar ZAPALA"
                data-gerente-email="pedro.frias@novogar.com.ar"
                data-gerente-nombre="Pedro Frías"
              >
                Novogar ZAPALA
              </option>

              <option
                value="Novogar NEUQUÉN"
                data-gerente-email="yamil.flores@novogar.com.ar"
                data-gerente-nombre="Yamil Flores"
              >
                Novogar NEUQUÉN
              </option>

              <option
                value="Novogar CIPOLLETTI"
                data-gerente-email="antonella.uriarte@novogar.com.ar"
                data-gerente-nombre="Antonella Uriarte"
              >
                Novogar CIPOLLETTI
              </option>

              <option
                value="Novogar SAN JUSTO - BS AS"
                data-gerente-email="fabricio.dambrosio@novogar.com.ar"
                data-gerente-nombre="Fabricio Dambrosio"
              >
                Novogar SAN JUSTO - BS AS
              </option>
            </select>
          </div>

          <div class="form-row">
            <label for="cliente">Cliente</label>
            <input
              type="text"
              id="cliente"
              name="cliente"
              class="form-control uppercase-input"
              placeholder="Nombre y apellido del cliente"
              autocomplete="name"
              required
            />
          </div>

          <div class="form-row">
            <label for="direccion">Dirección</label>
            <input
              type="text"
              id="direccion"
              name="direccion"
              class="form-control uppercase-input"
              placeholder="Dirección del cliente"
              autocomplete="street-address"
              required
            />
          </div>

          <div class="form-row">
            <label for="telefono">Teléfono</label>
            <input
              type="tel"
              id="telefono"
              name="telefono"
              class="form-control"
              placeholder="Teléfono de contacto"
              autocomplete="tel"
              required
            />
          </div>

          <div class="form-row">
            <label for="nroCliente">Número de cliente</label>
            <input
              type="text"
              id="nroCliente"
              name="nroCliente"
              class="form-control"
              placeholder="Número de cliente (si aplica)"
              required
            />
          </div>

          <div class="form-row product-row full">
            <label for="producto">Producto (SKU)</label>
            <div class="product-input-wrapper">
              <input
                type="text"
                id="producto"
                name="producto"
                class="form-control uppercase-input"
                placeholder="Ej: 061"
                maxlength="10"
                autocomplete="off"
                required
              />
              <ul
                id="product-suggestions"
                class="suggestions hidden list-unstyled"
              ></ul>
            </div>
            <small class="hint">
              A partir de 3 dígitos se muestran sugerencias desde precios
              Novogar.
            </small>
          </div>

          <div class="form-row falla-row full">
            <label for="falla">Falla</label>
            <textarea
              id="falla"
              name="falla"
              class="form-control"
              rows="6"
              placeholder="Describí la falla o reclamo del producto…"
              required
            ></textarea>
          </div>

          <div
            id="form-status"
            class="form-status full"
            aria-live="polite"
          ></div>

          <button
            type="submit"
            id="submit-btn"
            class="btn btn-primary btn-primary-macos"
          >
            <span class="btn-content">
              <span class="btn-label">
                <i class="bi bi-send me-1"></i>
                Enviar ticket
              </span>
              <span class="btn-spinner" aria-hidden="true"></span>
            </span>
          </button>
        </form>
      </main>
    </div>

    <!-- Toast -->
    <div id="global-toast" class="toast-macos hidden">
      <div class="toast-icon">
        <i class="bi bi-check-circle-fill"></i>
      </div>
      <div class="toast-content">
        <strong>Ticket enviado</strong>
        <span>Se guardó en SNP y se enviaron las notificaciones.</span>
      </div>
    </div>

    <!-- Overlay de envío -->
    <div id="overlay-loading" class="overlay hidden">
      <div class="overlay-card">
        <div class="overlay-spinner"></div>
        <p id="overlay-main-text" class="mb-2">Enviando ticket…</p>
        <ul
          id="overlay-steps"
          class="overlay-steps list-unstyled"
        ></ul>
      </div>
    </div>
  </div>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    defer
  ></script>
  <script src="app.js" defer></script>
</body>
</html>
